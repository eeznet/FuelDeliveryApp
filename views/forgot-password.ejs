<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password - Fuel Delivery App</title>
    <meta name="description" content="Reset your password for the Fuel Delivery App.">
    <meta name="keywords" content="reset password, forgot password, fuel delivery">
    <meta property="og:title" content="Forgot Password - Fuel Delivery App">
    <meta property="og:description" content="Reset your password and gain access to your fuel delivery account.">
    <link rel="stylesheet" href="/public/style.css">
</head>
<body>
    <div class="container">
        <h1>Reset Your Password</h1>
        <p>Enter your email address to receive password reset instructions.</p>

        <% if (message) { %>
            <div class="alert <%= message.type %>" role="alert" aria-live="polite">
                <%= message.text %>
            </div>
        <% } %>

        <form action="/auth/forgot-password" method="POST">
            <label for="email">Email Address:</label>
            <input 
                type="email" 
                name="email" 
                id="email" 
                required 
                placeholder="Enter your email address" 
                aria-label="Enter your email to reset your password"
                autofocus
                aria-required="true"
                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" 
                class="input-field">
            <button type="submit" class="button">Send Reset Link</button>
        </form>

        <p class="security-notice">For security reasons, we do not confirm whether an email exists in our system.</p>

        <div class="back-link">
            <p><a href="/login" class="button">Go Back to Login</a></p>
        </div>
    </div>

    <footer class="footer">
        <p>Web-based application developed and managed by EEZNET</p>
    </footer>

    <!-- JavaScript to hide message alert and refocus input field -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const messageAlert = document.querySelector('.alert');
            if (messageAlert) {
                setTimeout(function () {
                    messageAlert.style.display = 'none';
                }, 5000);
            }
            document.getElementById('email').focus();
        });
    </script>
</body>
</html>
